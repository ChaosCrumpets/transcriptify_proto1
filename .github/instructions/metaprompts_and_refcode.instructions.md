---
applyTo: '**'
---
Project: Transcriptify UI/UX Overhaul & Backend Integration PlanObjective: This document outlines the architectural and code-level changes required to transform the Transcriptify application into a modern, single-page UI inspired by services like Clipto. The focus is on creating a fully interactive frontend with a collapsible history panel and clear, non-destructive placeholders for backend workflow integration (e.g., via Make.com).1. Core Architectural ChangesSingle-Page Application (SPA) Layout: The primary change is the shift from a multi-page structure (/ and /report/[id]) to a single, dynamic layout managed within app/page.tsx. This provides a seamless, app-like experience.Client-Side State Management: The UI will rely heavily on client-side state management using React hooks (useState, useEffect) and URL search parameters (?id=...) to control the application's state (e.g., which report is active, sidebar visibility).Component-Based Structure: The main page will be broken down into distinct, manageable components:HistorySidebar: A new, collapsible panel to display a list of all past and current transcription jobs.ReportView: A dedicated component to display the details of the currently selected report.WelcomeView: A placeholder view for when no report is selected, prompting the user to start a new job.Real-time Data Fetching: The history panel and report view will fetch data from the backend in real-time using client-side API calls, with automatic polling to update the status of processing jobs.2. Database Schema UpdateTo support features like auto-generated titles and renaming, the database schema needs a minor update.Table: transcription_reportsAction: Add a new column.Column Name: titleType: textDefault Value: 'Untitled Transcription'Purpose: To store a user-editable or AI-generated title for each job, improving organization.A new SQL migration file (20251018_add_report_title.sql) will be provided to apply this change.3. Backend API & Workflow PlaceholdersThe backend will be refactored to support the new UI and provide clear hooks for the Make.com workflow.New Server Actions (app/api/actions/manageReports.ts)renameReport({ id: string, newTitle: string }): Updates the title of a specific report in the database.deleteReport({ id: string }): Deletes a report from the database.duplicateReport({ id: string }): Creates a new report record by copying the data from an existing one. This provides a template for users to work from.Updated Server Action (app/api/actions/generateTranscriptionReport.ts)Trigger for Make.com: This action will be called when a user submits a URL. Its primary responsibilities are:Create a new record in the transcription_reports table with a status of 'PENDING' and a default title.[WORKFLOW PLACEHOLDER]: Immediately make an HTTP POST request to the MAKE_COM_WEBHOOK_URL environment variable. The body of this request will contain the reportId and the sourceUrl.Return the reportId to the frontend so the UI can update.New API Route for History (app/api/history/route.ts)A simple GET endpoint that fetches all transcription jobs from the database, ordered by creation date. This will be called by the HistorySidebar to populate the list of jobs.Webhook for Receiving Results (app/api/webhook/update-report/route.ts)This existing webhook will be updated to accept the new title field.[WORKFLOW PLACEHOLDER]: Your Make.com scenario's final step will be an HTTP POST request to this endpoint. The request body must now include the AI-generated title alongside the synopsis, transcripts, etc. This is how the "Untitled Transcription" gets automatically updated upon completion.4. Frontend UI/UX FlowInitial Load: The user lands on app/page.tsx. The HistorySidebar makes a call to /api/history to fetch and display all past jobs. The main content area shows the WelcomeView.Submitting a Job: The user pastes a URL and clicks "Generate."The generateTranscriptionReport server action is called.A new job appears instantly at the top of the HistorySidebar with a "Pending..." status and an "Untitled Transcription" title.The URL is updated to /?id=[new_report_id], which automatically switches the main view to the ReportView for the new job, showing its "Processing..." state.Job Completion: The Make.com workflow finishes and calls the /api/webhook/update-report endpoint.The database record is updated with the final data and the AI-generated title.The polling mechanism in the HistorySidebar and ReportView detects the change and automatically updates the UI to show the completed report and its new title.Managing Jobs:The user can click on any job in the HistorySidebar to view it in the main panel.Using the dropdown menu on each history item, the user can trigger the renameReport, deleteReport, or duplicateReport server actions, with the UI updating optimistically and then re-fetching the history to confirm the change.5. SummaryThis plan provides a comprehensive roadmap to overhaul the Transcriptify application into a modern, user-friendly SPA with clear integration points for backend workflows. The focus on client-side state management, real-time data fetching, and a component-based architecture will ensure a smooth and engaging user experience while maintaining flexibility for future enhancements.
# Transcriptify (local dev)